---
---

<button
  id="scroll-to-top"
  class="fixed bottom-8 right-8 z-50 bg-gradient-to-br from-pink-400/30 via-blue-400/30 to-purple-400/30 hover:from-pink-400/40 hover:via-blue-400/40 hover:to-purple-400/40 text-white w-12 h-12 rounded-full shadow-lg backdrop-blur-md transition-all duration-300 opacity-0 translate-y-8 flex items-center justify-center border border-white/20 hover:border-white/30"
  aria-label="トップへ戻る"
>
  <svg 
    class="w-6 h-6" 
    fill="none" 
    stroke="currentColor" 
    viewBox="0 0 24 24"
  >
    <path 
      stroke-linecap="round" 
      stroke-linejoin="round" 
      stroke-width="2.5" 
      d="M5 10l7-7m0 0l7 7m-7-7v18"
    ></path>
  </svg>
</button>

<script>
  const scrollToTopButton = document.getElementById('scroll-to-top');

  // スクロール位置に応じてボタンの表示/非表示を切り替え
  function toggleScrollToTopButton() {
    if (window.scrollY > window.innerHeight / 2) {
      scrollToTopButton?.classList.remove('opacity-0', 'translate-y-8');
      scrollToTopButton?.classList.add('opacity-100', 'translate-y-0');
    } else {
      scrollToTopButton?.classList.add('opacity-0', 'translate-y-8');
      scrollToTopButton?.classList.remove('opacity-100', 'translate-y-0');
    }
  }

  // スムーズスクロールでトップへ戻る
  function scrollToTop() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  }

  // イベントリスナーの設定
  if (scrollToTopButton) {
    window.addEventListener('scroll', toggleScrollToTopButton);
    scrollToTopButton.addEventListener('click', scrollToTop);
  }

  // 初期状態の設定
  toggleScrollToTopButton();

  // Astroのページ遷移後にも動作するように
  document.addEventListener('astro:page-load', () => {
    toggleScrollToTopButton();
  });
</script>